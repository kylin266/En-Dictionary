{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\nimport { StatusBar } from 'expo-status-bar';\nimport { useEffect, useState } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { Text, View } from \"../components/Themed\";\nimport SearchTextInfo from \"../components/SearchTextInfo\";\nimport wordData from \"../words.json\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ModalScreen(props) {\n  var value = props.route.params.value;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(value),\n      _useState4 = _slicedToArray(_useState3, 2),\n      title = _useState4[0],\n      setTitle = _useState4[1];\n\n  var _useState5 = useState(true),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isMounted = _useState6[0],\n      setMounted = _useState6[1];\n\n  var api = \"https://api.dictionaryapi.dev/api/v2/entries/en/\" + value;\n  useEffect(function () {\n    if (value != 'randomWord') {\n      setTitle(value);\n\n      (function _callee() {\n        return _regeneratorRuntime.async(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regeneratorRuntime.awrap(axios.get(api).then(function (res) {\n                  if (res.data) {\n                    if (isMounted) setData(res.data);\n                  }\n                }));\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      })();\n    } else {\n      console.log('data', data);\n      var item = wordData[Math.floor(Math.random() * wordData.length)];\n      console.log('randomw', item);\n      setTitle(item);\n\n      var _api = \"https://api.dictionaryapi.dev/api/v2/entries/en/\" + item;\n\n      (function _callee2() {\n        return _regeneratorRuntime.async(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _regeneratorRuntime.awrap(axios.get(_api).then(function (res) {\n                  if (res.data) {\n                    if (isMounted) {\n                      setData(res.data);\n                      setMounted(false);\n                    }\n                  }\n                }));\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      })();\n    }\n\n    return function () {\n      setMounted(false);\n    };\n  }, []);\n  return _jsxs(View, {\n    style: styles.container,\n    children: [isMounted && _jsx(ActivityIndicator, {\n      color: \"#fff\"\n    }), _jsx(Text, {\n      style: styles.title,\n      children: title\n    }), _jsx(View, {\n      style: styles.separator,\n      lightColor: \"#eee\",\n      darkColor: \"rgba(255,255,255,0.1)\"\n    }), _jsx(SearchTextInfo, {\n      data: data,\n      path: \"/screens/ModalScreen.tsx\"\n    }), _jsx(StatusBar, {\n      style: Platform.OS === 'ios' ? 'light' : 'auto'\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    marginTop: 10\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold'\n  },\n  separator: {\n    marginVertical: 10,\n    height: 1,\n    width: '80%'\n  }\n});","map":{"version":3,"names":["axios","StatusBar","useEffect","useState","Text","View","SearchTextInfo","wordData","ModalScreen","props","value","route","params","data","setData","title","setTitle","isMounted","setMounted","api","get","then","res","console","log","item","Math","floor","random","length","styles","container","separator","Platform","OS","StyleSheet","create","flex","alignItems","marginTop","fontSize","fontWeight","marginVertical","height","width"],"sources":["/Users/littlecorn/Documents/lose-weight-apps/screens/ModalScreen.tsx"],"sourcesContent":["import axios from 'axios';\nimport { StatusBar } from 'expo-status-bar';\nimport { useEffect, useState } from 'react';\nimport { Platform, StyleSheet, ActivityIndicator } from 'react-native';\n\nimport { Text, View } from '../components/Themed';\nimport SearchTextInfo from '../components/SearchTextInfo';\nimport wordData from '../words.json';\nexport default function ModalScreen(props: any) {\n  const { value } = props.route.params;\n  const [data, setData] = useState([] as any);\n  const [title, setTitle] = useState(value);\n  const [isMounted, setMounted] = useState(true);\n  let api = `https://api.dictionaryapi.dev/api/v2/entries/en/${value}`\n  useEffect(() => {\n    if (value != 'randomWord') {\n      setTitle(value);\n      (async () => {\n        await axios.get(api).then(res => {\n          if (res.data) {\n            if (isMounted) setData(res.data);\n          }\n        })\n      })();\n    }\n    else {\n      console.log('data', data);\n      var item = wordData[Math.floor(Math.random() * wordData.length)];\n      console.log('randomw', item);\n      setTitle(item);\n\n      let api = `https://api.dictionaryapi.dev/api/v2/entries/en/${item}`;\n      (async () => {\n        await axios.get(api).then(res => {\n          if (res.data) {\n            if (isMounted) {setData(res.data);setMounted(false)}\n          }\n        })\n      })();\n\n\n    }\n    return () => {\n      setMounted(false);\n    };\n  }, [])\n  return (\n    <View style={styles.container}>\n      {isMounted && <ActivityIndicator color={\"#fff\"} />}\n      <Text style={styles.title}>{title}</Text>\n      <View style={styles.separator} lightColor=\"#eee\" darkColor=\"rgba(255,255,255,0.1)\" />\n      <SearchTextInfo data={data} path=\"/screens/ModalScreen.tsx\" />\n\n      {/* Use a light status bar on iOS to account for the black space above the modal */}\n      <StatusBar style={Platform.OS === 'ios' ? 'light' : 'auto'} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    alignItems: 'center',\n    marginTop: 10\n  },\n  title: {\n    fontSize: 20,\n    fontWeight: 'bold',\n  },\n  separator: {\n    marginVertical: 10,\n    height: 1,\n    width: '80%',\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}